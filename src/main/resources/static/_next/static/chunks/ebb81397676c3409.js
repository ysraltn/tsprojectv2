(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,10204,e=>{"use strict";e.s(["Label",()=>l],10204);var a=e.i(43476),r=e.i(71645),t=e.i(48425),s=r.forwardRef((e,r)=>(0,a.jsx)(t.Primitive.label,{...e,ref:r,onMouseDown:a=>{var r;a.target.closest("button, input, select, textarea")||(null==(r=e.onMouseDown)||r.call(e,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));s.displayName="Label";var i=e.i(75157);function l(e){let{className:r,...t}=e;return(0,a.jsx)(s,{"data-slot":"label",className:(0,i.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",r),...t})}},87486,e=>{"use strict";e.s(["Badge",()=>l]);var a=e.i(43476),r=e.i(91918),t=e.i(25913),s=e.i(75157);let i=(0,t.cva)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:l,asChild:n=!1,...d}=e,o=n?r.Slot:"span";return(0,a.jsx)(o,{"data-slot":"badge",className:(0,s.cn)(i({variant:l}),t),...d})}},75254,e=>{"use strict";e.s(["default",()=>l],75254);var a=e.i(71645);let r=e=>{let a=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,a,r)=>r?r.toUpperCase():a.toLowerCase());return a.charAt(0).toUpperCase()+a.slice(1)},t=function(){for(var e=arguments.length,a=Array(e),r=0;r<e;r++)a[r]=arguments[r];return a.filter((e,a,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===a).join(" ").trim()};var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,a.forwardRef)((e,r)=>{let{color:i="currentColor",size:l=24,strokeWidth:n=2,absoluteStrokeWidth:d,className:o="",children:c,iconNode:u,...m}=e;return(0,a.createElement)("svg",{ref:r,...s,width:l,height:l,stroke:i,strokeWidth:d?24*Number(n)/Number(l):n,className:t("lucide",o),...!c&&!(e=>{for(let a in e)if(a.startsWith("aria-")||"role"===a||"title"===a)return!0})(m)&&{"aria-hidden":"true"},...m},[...u.map(e=>{let[r,t]=e;return(0,a.createElement)(r,t)}),...Array.isArray(c)?c:[c]])}),l=(e,s)=>{let l=(0,a.forwardRef)((l,n)=>{let{className:d,...o}=l;return(0,a.createElement)(i,{ref:n,iconNode:s,className:t("lucide-".concat(r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),d),...o})});return l.displayName=r(e),l}},15288,e=>{"use strict";e.s(["Card",()=>t,"CardContent",()=>n,"CardDescription",()=>l,"CardHeader",()=>s,"CardTitle",()=>i]);var a=e.i(43476),r=e.i(75157);function t(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...s})}function s(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...s})}function i(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",t),...s})}function l(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",t),...s})}function n(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",t),...s})}},48425,e=>{"use strict";e.s(["Primitive",()=>i,"dispatchDiscreteCustomEvent",()=>l]);var a=e.i(71645),r=e.i(74080),t=e.i(91918),s=e.i(43476),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let i=(0,t.createSlot)("Primitive.".concat(r)),l=a.forwardRef((e,a)=>{let{asChild:t,...l}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,s.jsx)(t?i:r,{...l,ref:a})});return l.displayName="Primitive.".concat(r),{...e,[r]:l}},{});function l(e,a){e&&r.flushSync(()=>e.dispatchEvent(a))}},93479,e=>{"use strict";e.s(["Input",()=>t]);var a=e.i(43476),r=e.i(75157);function t(e){let{className:t,type:s,...i}=e;return(0,a.jsx)("input",{type:s,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...i})}},37727,e=>{"use strict";e.s(["X",()=>a],37727);let a=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},88511,e=>{"use strict";e.s(["Edit",()=>a],88511);let a=(0,e.i(75254).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},63488,e=>{"use strict";e.s(["Mail",()=>a],63488);let a=(0,e.i(75254).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},13278,e=>{"use strict";e.s(["default",()=>j],13278);var a=e.i(43476),r=e.i(71645),t=e.i(57951),s=e.i(9165),i=e.i(15288),l=e.i(93479),n=e.i(10204),d=e.i(19455),o=e.i(87486),c=e.i(46696),u=e.i(75254);let m=(0,u.default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var x=e.i(63488);let h=(0,u.default)("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]),p=(0,u.default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);var v=e.i(88511);let f=(0,u.default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var g=e.i(37727);let b=(0,u.default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),y=(0,u.default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);function j(){let{logout:e}=(0,t.useAuth)(),[u,j]=(0,r.useState)(null),[w,N]=(0,r.useState)(!0),[k,C]=(0,r.useState)(!1),[P,z]=(0,r.useState)(!1),[L,M]=(0,r.useState)(!1),[A,S]=(0,r.useState)(!1),[B,E]=(0,r.useState)({name:"",surname:"",email:"",currentPassword:"",newPassword:""}),T=async()=>{try{N(!0);let e=await s.userApi.getProfile();j(e),E({name:e.name||"",surname:e.surname||"",email:e.email||"",currentPassword:"",newPassword:""})}catch(r){var a;console.error("Failed to load profile:",r),(null==r||null==(a=r.response)?void 0:a.status)===401?(c.toast.error("Oturum süreniz dolmuş. Lütfen tekrar giriş yapın."),e()):c.toast.error("Profil bilgileri yüklenemedi")}finally{N(!1)}};(0,r.useEffect)(()=>{T()},[e]);let D=async()=>{try{z(!0);let e={};if(B.name!==(null==u?void 0:u.name)&&(e.name=B.name),B.surname!==(null==u?void 0:u.surname)&&(e.surname=B.surname),B.email!==(null==u?void 0:u.email)&&(e.email=B.email),B.newPassword&&B.newPassword.trim()){if(!B.currentPassword)return void c.toast.error("Şifre değiştirmek için mevcut şifrenizi girmelisiniz");e.currentPassword=B.currentPassword,e.newPassword=B.newPassword}if(0===Object.keys(e).length)return void C(!1);let a=await s.userApi.updateProfile(e);j(a),C(!1),E(e=>({...e,currentPassword:"",newPassword:""})),c.toast.success("Profil başarıyla güncellendi")}catch(s){var a,r,t,i,l;console.error("Failed to update profile:",s),(null==s||null==(a=s.response)?void 0:a.status)===401?(c.toast.error("Oturum süreniz dolmuş. Lütfen tekrar giriş yapın."),e()):(null==s||null==(t=s.response)||null==(r=t.data)?void 0:r.message)||(null==s?void 0:s.message)?c.toast.error((null==s||null==(l=s.response)||null==(i=l.data)?void 0:i.message)||(null==s?void 0:s.message)):c.toast.error("Profil güncellenemedi")}finally{z(!1)}},K=()=>(null==u?void 0:u.roleNames)&&0!==u.roleNames.length?u.roleNames.map(e=>e.replace("ROLE_","")):["Kullanıcı"];return w?(0,a.jsx)("div",{className:"max-w-4xl mx-auto py-8 space-y-6",children:(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)("div",{className:"text-muted-foreground",children:"Profil bilgileri yükleniyor..."})})}):u?(0,a.jsxs)("div",{className:"max-w-4xl mx-auto py-8 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Profil"}),!k&&(0,a.jsxs)(d.Button,{onClick:()=>C(!0),className:"flex items-center gap-2",children:[(0,a.jsx)(v.Edit,{className:"h-4 w-4"}),"Düzenle"]})]}),(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsxs)(i.CardTitle,{className:"flex items-center gap-2",children:[(0,a.jsx)(m,{className:"h-5 w-5 text-blue-600"}),"Kişisel Bilgiler"]})}),(0,a.jsxs)(i.CardContent,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"name",children:"Ad"}),k?(0,a.jsx)(l.Input,{id:"name",value:B.name,onChange:e=>E(a=>({...a,name:e.target.value})),placeholder:"Adınızı girin"}):(0,a.jsx)("div",{className:"p-3 border rounded-md bg-muted/50",children:u.name||"-"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"surname",children:"Soyad"}),k?(0,a.jsx)(l.Input,{id:"surname",value:B.surname,onChange:e=>E(a=>({...a,surname:e.target.value})),placeholder:"Soyadınızı girin"}):(0,a.jsx)("div",{className:"p-3 border rounded-md bg-muted/50",children:u.surname||"-"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"username",children:"Kullanıcı Adı"}),(0,a.jsxs)("div",{className:"p-3 border rounded-md bg-muted/50 text-muted-foreground",children:[u.username,(0,a.jsx)("span",{className:"text-xs ml-2",children:"(değiştirilemez)"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(n.Label,{htmlFor:"email",className:"flex items-center gap-2",children:[(0,a.jsx)(x.Mail,{className:"h-4 w-4"}),"E-posta"]}),k?(0,a.jsx)(l.Input,{id:"email",type:"email",value:B.email,onChange:e=>E(a=>({...a,email:e.target.value})),placeholder:"E-posta adresinizi girin"}):(0,a.jsx)("div",{className:"p-3 border rounded-md bg-muted/50",children:u.email||"-"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(n.Label,{className:"flex items-center gap-2",children:[(0,a.jsx)(p,{className:"h-4 w-4"}),"Roller"]}),(0,a.jsx)("div",{className:"flex gap-2",children:K().map((e,r)=>(0,a.jsx)(o.Badge,{variant:"secondary",children:e},r))})]})]})]}),k&&(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsxs)(i.CardTitle,{className:"flex items-center gap-2",children:[(0,a.jsx)(h,{className:"h-5 w-5 text-amber-600"}),"Şifre Değiştir"]})}),(0,a.jsxs)(i.CardContent,{className:"space-y-4",children:[(0,a.jsx)("div",{className:"text-sm text-muted-foreground mb-4",children:"Şifrenizi değiştirmek istemiyorsanız bu alanları boş bırakın."}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"currentPassword",children:"Mevcut Şifre"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(l.Input,{id:"currentPassword",type:L?"text":"password",value:B.currentPassword,onChange:e=>E(a=>({...a,currentPassword:e.target.value})),placeholder:"Mevcut şifrenizi girin"}),(0,a.jsx)(d.Button,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>M(!L),children:L?(0,a.jsx)(y,{className:"h-4 w-4"}):(0,a.jsx)(b,{className:"h-4 w-4"})})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"newPassword",children:"Yeni Şifre"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(l.Input,{id:"newPassword",type:A?"text":"password",value:B.newPassword,onChange:e=>E(a=>({...a,newPassword:e.target.value})),placeholder:"Yeni şifrenizi girin"}),(0,a.jsx)(d.Button,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>S(!A),children:A?(0,a.jsx)(y,{className:"h-4 w-4"}):(0,a.jsx)(b,{className:"h-4 w-4"})})]}),B.newPassword&&B.newPassword.length<6&&(0,a.jsx)("div",{className:"text-sm text-amber-600",children:"Şifre en az 6 karakter olmalıdır"})]})]})]}),k&&(0,a.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,a.jsxs)(d.Button,{variant:"outline",onClick:()=>{E({name:(null==u?void 0:u.name)||"",surname:(null==u?void 0:u.surname)||"",email:(null==u?void 0:u.email)||"",currentPassword:"",newPassword:""}),C(!1)},disabled:P,className:"flex items-center gap-2",children:[(0,a.jsx)(g.X,{className:"h-4 w-4"}),"İptal"]}),(0,a.jsxs)(d.Button,{onClick:D,disabled:P,className:"flex items-center gap-2",children:[(0,a.jsx)(f,{className:"h-4 w-4"}),P?"Kaydediliyor...":"Değişiklikleri Kaydet"]})]}),!k&&(0,a.jsxs)(i.Card,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200",children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsx)(i.CardTitle,{className:"text-lg",children:"Profil Özeti"})}),(0,a.jsx)(i.CardContent,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(null==u?void 0:u.name)&&(null==u?void 0:u.surname)?"".concat(u.name," ").concat(u.surname):(null==u?void 0:u.username)||"Kullanıcı"}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Tam Ad"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:["@",u.username]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Kullanıcı Adı"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:K().length}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Rol Sayısı"})]})]})})]})]}):(0,a.jsx)("div",{className:"max-w-4xl mx-auto py-8 space-y-6",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:"Profil bilgileri bulunamadı"}),(0,a.jsx)(d.Button,{onClick:T,className:"mt-4",children:"Tekrar Dene"})]})})}}]);