(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,87486,e=>{"use strict";e.s(["Badge",()=>i]);var t=e.i(43476),r=e.i(91918),s=e.i(25913),a=e.i(75157);let l=(0,s.cva)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:s,variant:i,asChild:n=!1,...d}=e,o=n?r.Slot:"span";return(0,t.jsx)(o,{"data-slot":"badge",className:(0,a.cn)(l({variant:i}),s),...d})}},75254,e=>{"use strict";e.s(["default",()=>i],75254);var t=e.i(71645);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},s=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,t.forwardRef)((e,r)=>{let{color:l="currentColor",size:i=24,strokeWidth:n=2,absoluteStrokeWidth:d,className:o="",children:c,iconNode:u,...m}=e;return(0,t.createElement)("svg",{ref:r,...a,width:i,height:i,stroke:l,strokeWidth:d?24*Number(n)/Number(i):n,className:s("lucide",o),...!c&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(m)&&{"aria-hidden":"true"},...m},[...u.map(e=>{let[r,s]=e;return(0,t.createElement)(r,s)}),...Array.isArray(c)?c:[c]])}),i=(e,a)=>{let i=(0,t.forwardRef)((i,n)=>{let{className:d,...o}=i;return(0,t.createElement)(l,{ref:n,iconNode:a,className:s("lucide-".concat(r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),d),...o})});return i.displayName=r(e),i}},15288,e=>{"use strict";e.s(["Card",()=>s,"CardContent",()=>n,"CardDescription",()=>i,"CardHeader",()=>a,"CardTitle",()=>l]);var t=e.i(43476),r=e.i(75157);function s(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...a})}function a(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...a})}function l(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",s),...a})}function i(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",s),...a})}function n(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",s),...a})}},48425,e=>{"use strict";e.s(["Primitive",()=>l,"dispatchDiscreteCustomEvent",()=>i]);var t=e.i(71645),r=e.i(74080),s=e.i(91918),a=e.i(43476),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let l=(0,s.createSlot)("Primitive.".concat(r)),i=t.forwardRef((e,t)=>{let{asChild:s,...i}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,a.jsx)(s?l:r,{...i,ref:t})});return i.displayName="Primitive.".concat(r),{...e,[r]:i}},{});function i(e,t){e&&r.flushSync(()=>e.dispatchEvent(t))}},93479,e=>{"use strict";e.s(["Input",()=>s]);var t=e.i(43476),r=e.i(75157);function s(e){let{className:s,type:a,...l}=e;return(0,t.jsx)("input",{type:a,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...l})}},37727,e=>{"use strict";e.s(["X",()=>t],37727);let t=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},22190,80712,e=>{"use strict";e.s(["InstitutionDetailsModal",()=>x],22190);var t=e.i(43476),r=e.i(71645),s=e.i(9165),a=e.i(15288),l=e.i(87486);e.s(["ProductDetailsModal",()=>u],80712);var i=e.i(19455),n=e.i(93479),d=e.i(37727),o=e.i(67489),c=e.i(46696);function u(e){var u,m,x,h,g,p;let{isOpen:v,onClose:f,productId:j}=e,[b,y]=(0,r.useState)(!1),[N,S]=(0,r.useState)(null),[C,w]=(0,r.useState)([]),[k,A]=(0,r.useState)(null),[I,B]=(0,r.useState)(null),[T,z]=(0,r.useState)(!1),[D,K]=(0,r.useState)(!1),[P,E]=(0,r.useState)(""),[L,M]=(0,r.useState)([]),[V,F]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{if(v&&j)try{var e,t,r;y(!0);let[a,l]=await Promise.all([s.productApi.getProductById(j),s.institutionApi.getAll({page:0,size:1e3,sort:"name"})]),i=Array.isArray(l)?l:Array.isArray(null==l?void 0:l.content)?l.content:[];w(i.map(e=>({id:e.id,name:e.name}))),S(a),A(null!=(e=null==a?void 0:a.institutionId)?e:null),B(null!=(t=null==a?void 0:a.ownerId)?t:null),E(null!=(r=null==a?void 0:a.status)?r:""),H()}catch(e){console.error(e),S(null)}finally{y(!1)}})()},[v,j]);let H=async()=>{if(j)try{F(!0);let e=(await s.cyclesApi.getFiltered({userId:void 0,institutionId:void 0})).filter(e=>e.productId===j).sort((e,t)=>t.year-e.year||t.month-e.month).slice(0,6);M(e)}catch(e){console.error("Failed to load cycles:",e),M([])}finally{F(!1)}};return v&&j?(0,t.jsx)("div",{className:"fixed inset-0 bg-background/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-card text-foreground border rounded-lg shadow-lg max-w-xl w-full max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"sticky top-0 bg-card/95 supports-[backdrop-filter]:bg-card/80 backdrop-blur border-b p-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold",children:"Ürün Detayları"}),(null==N?void 0:N.serial)&&(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Seri: ",N.serial]})]}),(0,t.jsx)(i.Button,{variant:"ghost",size:"sm",onClick:f,children:(0,t.jsx)(d.X,{className:"h-4 w-4"})})]}),(0,t.jsx)("div",{className:"p-4 space-y-4",children:b?(0,t.jsx)("div",{className:"text-center py-8",children:"Yüklüyor..."}):N?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(a.Card,{children:[(0,t.jsx)(a.CardHeader,{children:(0,t.jsx)(a.CardTitle,{className:"text-lg",children:"Özet"})}),(0,t.jsxs)(a.CardContent,{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{className:"border rounded-md p-3 bg-muted/50",children:[(0,t.jsx)("div",{className:"text-xs text-muted-foreground mb-1",children:"Marka / Model"}),(0,t.jsxs)("div",{className:"font-medium",children:[null!=(u=N.brand)?u:"-"," ",null!=(m=N.model)?m:""]})]}),(0,t.jsxs)("div",{className:"border rounded-md p-3 bg-muted/50",children:[(0,t.jsx)("div",{className:"text-xs text-muted-foreground mb-1",children:"Tip"}),(0,t.jsx)("div",{className:"font-medium",children:null!=(x=N.type)?x:"-"})]}),(0,t.jsxs)("div",{className:"border rounded-md p-3 bg-muted/50",children:[(0,t.jsx)("div",{className:"text-xs text-muted-foreground mb-1",children:"Durum"}),(0,t.jsx)("div",{className:"font-medium",children:D?(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(n.Input,{value:P,onChange:e=>E(e.target.value),maxLength:100,placeholder:"Durum giriniz",className:"h-8"}),(0,t.jsxs)("div",{className:"text-xs text-muted-foreground text-right",children:[P.length,"/100 karakter"]})]}):(0,t.jsx)(l.Badge,{variant:"aktif"===N.status?"default":"secondary",children:N.status})})]}),(0,t.jsxs)("div",{className:"border rounded-md p-3 bg-muted/50",children:[(0,t.jsx)("div",{className:"text-xs text-muted-foreground mb-1",children:"Sorumlu"}),(0,t.jsx)("div",{className:"font-medium",children:null!=(h=N.responsibleFullName)?h:"-"})]})]})]}),(0,t.jsxs)(a.Card,{children:[(0,t.jsx)(a.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,t.jsx)(a.CardTitle,{className:"text-lg",children:"Kurum ve Sahip"}),!D&&(0,t.jsx)(i.Button,{size:"sm",variant:"outline",onClick:()=>K(!0),children:"Düzenle"})]})}),D?(0,t.jsxs)(a.CardContent,{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{className:"border rounded-md p-3 bg-muted/50",children:[(0,t.jsx)("div",{className:"text-xs text-muted-foreground mb-1",children:"Kurum"}),(0,t.jsxs)(o.Select,{value:k?String(k):void 0,onValueChange:e=>A(Number(e)),children:[(0,t.jsx)(o.SelectTrigger,{children:(0,t.jsx)(o.SelectValue,{placeholder:N.institutionName||"Kurum seçin"})}),(0,t.jsx)(o.SelectContent,{children:C.map(e=>(0,t.jsx)(o.SelectItem,{value:String(e.id),children:e.name},e.id))})]})]}),(0,t.jsxs)("div",{className:"border rounded-md p-3 bg-muted/50",children:[(0,t.jsx)("div",{className:"text-xs text-muted-foreground mb-1",children:"Sahip"}),(0,t.jsxs)(o.Select,{value:I?String(I):void 0,onValueChange:e=>B(Number(e)),children:[(0,t.jsx)(o.SelectTrigger,{children:(0,t.jsx)(o.SelectValue,{placeholder:N.ownerName||"Sahip seçin"})}),(0,t.jsx)(o.SelectContent,{children:C.map(e=>(0,t.jsx)(o.SelectItem,{value:String(e.id),children:e.name},e.id))})]})]}),(0,t.jsxs)("div",{className:"md:col-span-2 flex items-center gap-2",children:[(0,t.jsx)(i.Button,{className:"flex-1",disabled:T||!k||!I,onClick:async()=>{var e,t,r,a;if(N&&k&&I)try{z(!0),await s.productApi.updateProduct(N.id,{serial:N.serial,type:N.type,brand:N.brand,model:N.model,status:P,institutionId:k,ownerId:I,responsibleId:null!=(e=N.responsibleId)?e:void 0}),c.toast.success("Ürün güncellendi");let r=await s.productApi.getProductById(N.id);S(r),E(null!=(t=null==r?void 0:r.status)?t:""),K(!1)}catch(e){console.error(e),c.toast.error((null==e||null==(a=e.response)||null==(r=a.data)?void 0:r.message)||"Ürün güncelleme başarısız")}finally{z(!1)}},children:T?"Kaydediliyor...":"Değişiklikleri Kaydet"}),(0,t.jsx)(i.Button,{className:"flex-1",variant:"outline",onClick:()=>{var e,t,r;A(null!=(e=null==N?void 0:N.institutionId)?e:null),B(null!=(t=null==N?void 0:N.ownerId)?t:null),E(null!=(r=null==N?void 0:N.status)?r:""),K(!1)},children:"İptal"})]})]}):(0,t.jsxs)(a.CardContent,{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{className:"border rounded-md p-3 bg-muted/50",children:[(0,t.jsx)("div",{className:"text-xs text-muted-foreground mb-1",children:"Kurum"}),(0,t.jsx)("div",{className:"font-medium",children:null!=(g=N.institutionName)?g:"-"})]}),(0,t.jsxs)("div",{className:"border rounded-md p-3 bg-muted/50",children:[(0,t.jsx)("div",{className:"text-xs text-muted-foreground mb-1",children:"Sahip"}),(0,t.jsx)("div",{className:"font-medium",children:null!=(p=N.ownerName)?p:"-"})]})]})]}),(0,t.jsxs)(a.Card,{children:[(0,t.jsx)(a.CardHeader,{children:(0,t.jsx)(a.CardTitle,{className:"text-lg",children:"Döngü Geçmişi (Son 6 Ay)"})}),(0,t.jsx)(a.CardContent,{children:V?(0,t.jsx)("div",{className:"text-center py-4",children:"Döngüler yüklüyor..."}):0===L.length?(0,t.jsx)("p",{className:"text-muted-foreground",children:"Bu ürün için döngü verisi bulunamadı."}):(0,t.jsx)("div",{className:"space-y-2",children:L.map((e,r)=>{let s=L[r+1],a=s?e.cycleCount-s.cycleCount:null,l=null===a?"text-muted-foreground":a>=0?"text-green-600":"text-red-600";return(0,t.jsxs)("div",{className:"border rounded-md px-3 py-2 bg-muted/50",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"text-sm font-medium",children:[e.year,"-",String(e.month).padStart(2,"0")]}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:new Date(e.year,e.month-1).toLocaleString("default",{month:"long",year:"numeric"})})]}),(0,t.jsxs)("div",{className:"text-sm font-medium",children:[e.cycleCount.toLocaleString()," döngü"]})]}),null!==a&&(0,t.jsx)("div",{className:"mt-1 text-right",children:(0,t.jsxs)("span",{className:"text-xs ".concat(l),children:["Kullanım: ",a>=0?"+".concat(a.toLocaleString()):a.toLocaleString()]})})]},e.id)})})})]})]}):(0,t.jsx)("div",{className:"text-muted-foreground",children:"Ürün bulunamadı."})})]})}):null}var m=e.i(18566);function x(e){let{isOpen:n,onClose:o,institutionId:x,institutionName:h,institutionCity:g}=e,[p,v]=(0,r.useState)([]),[f,j]=(0,r.useState)([]),[b,y]=(0,r.useState)(!1),[N,S]=(0,r.useState)(!1),[C,w]=(0,r.useState)(null);(0,m.useRouter)(),(0,r.useEffect)(()=>{n&&x&&k()},[n,x]);let k=async()=>{try{y(!0),console.log("Loading data for institution ID:",x),console.log("Auth token:",localStorage.getItem("authToken"));let[e,t]=await Promise.all([s.productApi.getProductsByInstitution(x),s.institutionConsumableTypeApi.getByInstitution(x)]);console.log("Products response:",e),console.log("Types response:",t),v(e),j(t)}catch(l){var e,t,r,a;console.error("Failed to load institution data:",l),console.error("Error details:",null==l||null==(e=l.response)?void 0:e.data),console.error("Error status:",null==l||null==(t=l.response)?void 0:t.status),console.error("Error message:",null==l?void 0:l.message);let s=(null==l||null==(r=l.response)?void 0:r.status)===401?"Kimlik doğrulama gerekli. Lütfen tekrar giriş yapın.":(null==l||null==(a=l.response)?void 0:a.status)===403?"Erişim engellendi. Bu verileri görüntüleme izniniz yok.":(null==l?void 0:l.message)||"Kurum verileri yüklenemedi";c.toast.error(s)}finally{y(!1)}};return n?(0,t.jsx)("div",{className:"fixed inset-0 bg-background/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-card text-foreground border rounded-lg shadow-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"sticky top-0 bg-card/95 supports-[backdrop-filter]:bg-card/80 backdrop-blur border-b p-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-foreground",children:h}),g&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:g})]}),(0,t.jsx)(i.Button,{variant:"ghost",size:"sm",onClick:o,children:(0,t.jsx)(d.X,{className:"h-4 w-4"})})]}),(0,t.jsx)("div",{className:"p-4 space-y-6",children:b?(0,t.jsx)("div",{className:"text-center py-8",children:"Yüklüyor..."}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(a.Card,{children:[(0,t.jsx)(a.CardHeader,{children:(0,t.jsxs)(a.CardTitle,{className:"text-lg",children:["Ürünler (",p.length,")"]})}),(0,t.jsx)(a.CardContent,{children:p.length>0?(0,t.jsx)("div",{className:"space-y-2",children:p.map(e=>(0,t.jsx)("button",{className:"w-full text-left border rounded-md p-3 bg-muted/50 hover:bg-muted transition",onClick:()=>{w(e.id),S(!0)},children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"font-medium",children:[e.brand," ",e.model," - ",e.serial]}),e.type&&(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Tip: ",e.type]}),e.responsibleFullName&&(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Sorumlu: ",e.responsibleFullName]})]}),(0,t.jsx)(l.Badge,{variant:"aktif"===e.status?"default":"secondary",children:e.status})]})},e.id))}):(0,t.jsx)("p",{className:"text-muted-foreground",children:"Bu kurum için ürün bulunamadı."})})]}),(0,t.jsxs)(a.Card,{children:[(0,t.jsx)(a.CardHeader,{children:(0,t.jsxs)(a.CardTitle,{className:"text-lg",children:["Bağlanmış Sarf Malzemesi Tipleri (",f.length,")"]})}),(0,t.jsx)(a.CardContent,{children:f.length>0?(0,t.jsx)("div",{className:"space-y-2",children:f.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-2 border rounded-md px-3 py-2 bg-muted/50",children:[(0,t.jsx)(l.Badge,{variant:"secondary",children:e.typeName}),(0,t.jsxs)("span",{className:"text-sm text-muted-foreground",children:["(",e.consumableName,")"]})]},e.id))}):(0,t.jsx)("p",{className:"text-muted-foreground",children:"Bu kuruma bağlanmış sarf malzemesi tipi yok."})})]})]})}),(0,t.jsx)(u,{isOpen:N,onClose:()=>{S(!1),w(null)},productId:C})]})}):null}},79272,e=>{"use strict";e.s(["default",()=>o]);var t=e.i(43476),r=e.i(71645),s=e.i(9165),a=e.i(15288),l=e.i(67489),i=e.i(87486),n=e.i(22190),d=e.i(46696);function o(){let[e,o]=(0,r.useState)([]),[c,u]=(0,r.useState)(!0),[m,x]=(0,r.useState)(0),[h,g]=(0,r.useState)(10),[p,v]=(0,r.useState)(0),[f,j]=(0,r.useState)(null),[b,y]=(0,r.useState)("name"),[N,S]=(0,r.useState)(null),[C,w]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{(async()=>{try{var e,t,r,a;let l=await s.institutionApi.getAll({page:m,size:h,sort:b}),i=Array.isArray(l)?l:Array.isArray(null==l?void 0:l.data)?l.data:Array.isArray(null==l?void 0:l.content)?l.content:[];Array.isArray(i)?o(i):(d.toast.error("Kurumlar için beklenmeyen yanıt formatı"),o([]));let n=null!=(r=null==l?void 0:l.totalPages)?r:null==l||null==(e=l.page)?void 0:e.totalPages;"number"==typeof n&&v(n);let c=null!=(a=null==l?void 0:l.totalElements)?a:null==l||null==(t=l.page)?void 0:t.totalElements;"number"==typeof c&&j(c)}catch(e){console.error(e),d.toast.error("Kurumlar yüklenemedi")}finally{u(!1)}})()},[m,h,b]),c)?(0,t.jsx)("div",{className:"max-w-5xl mx-auto py-8",children:(0,t.jsx)("p",{className:"text-muted-foreground",children:"Kurumlar yüklüyor..."})}):(0,t.jsxs)("div",{className:"max-w-5xl mx-auto py-8 space-y-4",children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold",children:"Kurumlar"}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Sayfa boyutu"}),(0,t.jsxs)(l.Select,{value:String(h),onValueChange:e=>{x(0),g(Number(e))},children:[(0,t.jsx)(l.SelectTrigger,{className:"w-[100px]",children:(0,t.jsx)(l.SelectValue,{placeholder:"Boyut"})}),(0,t.jsx)(l.SelectContent,{children:[5,10,20,50].map(e=>(0,t.jsx)(l.SelectItem,{value:String(e),children:e},e))})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Sırala"}),(0,t.jsxs)(l.Select,{value:b,onValueChange:e=>{x(0),y(e)},children:[(0,t.jsx)(l.SelectTrigger,{className:"w-[160px]",children:(0,t.jsx)(l.SelectValue,{placeholder:"Sıralama"})}),(0,t.jsxs)(l.SelectContent,{children:[(0,t.jsx)(l.SelectItem,{value:"name",children:"Ad"}),(0,t.jsx)(l.SelectItem,{value:"city",children:"Şehir"}),(0,t.jsx)(l.SelectItem,{value:"id",children:"ID"})]})]})]})]}),e.map(e=>{var r;return(0,t.jsxs)(a.Card,{children:[(0,t.jsx)(a.CardHeader,{children:(0,t.jsxs)(a.CardTitle,{className:"flex items-center justify-between",children:[(0,t.jsx)("button",{onClick:()=>{S({id:e.id,name:e.name,city:e.city}),w(!0)},className:"hover:text-blue-600 hover:underline cursor-pointer text-left",children:e.name}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:e.city})]})}),(0,t.jsx)(a.CardContent,{children:(null==(r=e.consumableTypes)?void 0:r.length)?(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:e.consumableTypes.map(e=>(0,t.jsxs)(i.Badge,{variant:"secondary",children:[e.consumableName," — ",e.typeName]},e.id))}):(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Sarf malzemesi tipi yok"})})]},e.id)}),(0,t.jsxs)("div",{className:"flex items-center justify-center gap-3 pt-2",children:[(0,t.jsx)("button",{className:"text-sm px-3 py-1 rounded border disabled:opacity-50",onClick:()=>x(e=>Math.max(0,e-1)),disabled:m<=0,children:"Önceki"}),(0,t.jsxs)("span",{className:"text-sm text-muted-foreground",children:["Sayfa ",m+1," / ",Math.max(1,p||1),"number"==typeof f?", toplam ".concat(f):""]}),(0,t.jsx)("button",{className:"text-sm px-3 py-1 rounded border disabled:opacity-50",onClick:()=>x(e=>p?Math.min(p-1,e+1):e+1),disabled:p?m>=p-1:e.length<h,children:"Sonraki"})]}),N&&(0,t.jsx)(n.InstitutionDetailsModal,{isOpen:C,onClose:()=>{w(!1),S(null)},institutionId:N.id,institutionName:N.name,institutionCity:N.city})]})}}]);